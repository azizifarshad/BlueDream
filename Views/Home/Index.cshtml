@using System.Collections.Generic
@using System.Linq
@using BlueDream.Models.Entities
@{
    ViewData["Title"] = "Home Page";
    var sliders = (ViewBag.Sliders as IEnumerable<Slider>)?.ToList() ?? new List<Slider>();
    string[] fallbackImages = new[]
    {
        Url.Content("~/images/slides/work-1.jpg"),
        Url.Content("~/images/slides/work-2.jpg"),
        Url.Content("~/images/slides/work-3.jpg"),
        Url.Content("~/images/slides/work-4.jpg")
    };
}
<!doctype html>
<html lang="en">
  <head>
    <title>Home</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  </head>
  <body>
    
    <section class="ftco-section my-box ">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="featured-carousel owl-carousel">
@if (sliders.Any())
{
    foreach (var slide in sliders)
    {
        var imageUrl = string.IsNullOrWhiteSpace(slide.ImageUrl)
            ? Url.Content("~/images/slides/work-1.jpg")
            : Url.Content(slide.ImageUrl);

        // Safe encode
        string safeTitle = System.Net.WebUtility.HtmlEncode(slide.Title ?? "");
        string safeDesc = System.Net.WebUtility.HtmlEncode(slide.Description ?? "");

        // Split by newline
        var titleLines = safeTitle.Split('\n', StringSplitOptions.RemoveEmptyEntries);
        var descLines = safeDesc.Split('\n', StringSplitOptions.RemoveEmptyEntries);

        <div class="item">
            <div class="work-wrap d-md-flex">

                <div class="img order-md-last" style="background-image: url('@imageUrl');"></div>

                <div class="text text-left text-lg-right p-4 px-xl-5 d-flex align-items-center h-auto">
                    <div class="desc w-100">

                        <!-- Title -->
                        <h2 class="slide-title mb-4">
                            @foreach (var line in titleLines)
                            {
                                <span class="title-line d-block">@Html.Raw(line)</span>
                            }
                        </h2>

                        <!-- Description -->
                        <div class="row justify-content-end">
                            <div class="col-xl-8">
                                <div class="slide-desc">
                                    @foreach (var line in descLines)
                                    {
                                      <p>@Html.Raw(line)</p>
                                    }
                                </div>
                            </div>
                        </div>

                        <p>
                          <a href="@Url.Action("Index", "Booking")" class="btn slide-btn">Booking Now</a>
                        </p>

                    </div>
                </div>

            </div>
        </div>
    }
}


              else
              {
                  <div class="item">
                    <div class="work-wrap d-md-flex">
                      <div class="img order-md-last" style="background-image: url(@(fallbackImages[0]));"></div>
                      <div class="text text-left text-lg-right p-4 px-xl-5 d-flex align-items-center">
                        <div class="desc w-100">
                          <h2 class="mb-4">Define <br> Your Budget</h2>
                          <p class="h5">Call: 0123 456 78901</p>
                          <p class="h5 mb-4">Email Address: email@info.com</p>
                          <div class="row justify-content-end">
                            <div class="col-xl-8">
                              <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>
                            </div>
                          </div>
                          <p>
                            <a href="@Url.Action("Index", "Booking")" class="btn btn-dark mb-2 py-3 px-4">Booking Now</a>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Item 2 -->
                  <div class="item">
                    <div class="work-wrap d-md-flex">
                      <div class="img order-md-last" style="background-image: url(@(fallbackImages[1]));"></div>
                      <div class="text text-left text-lg-right p-4 px-xl-5 d-flex align-items-center">
                        <div class="py-md-5">
                          <h2 class="mb-4">Kids <br> Collection</h2>
                          <p class="h5">Call: 0123 456 78901</p>
                          <p class="h5 mb-4">Email Address: email@info.com</p>
                          <div class="row justify-content-end">
                            <div class="col-xl-8">
                              <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>
                            </div>
                          </div>
                          <p>
                            <a href="@Url.Action("Index", "Booking")" class="btn btn-dark mb-2 py-3 px-4">Booking Now</a>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Item 3 -->
                  <div class="item">
                    <div class="work-wrap d-md-flex">
                      <div class="img order-md-last" style="background-image: url(@(fallbackImages[2]));"></div>
                      <div class="text text-left text-lg-right p-4 px-xl-5 d-flex align-items-center">
                        <div class="py-md-5">
                          <h2 class="mb-4">Ladies <br> Collection</h2>
                          <p class="h5">Call: 0123 456 78901</p>
                          <p class="h5 mb-4">Email Address: email@info.com</p>
                          <div class="row justify-content-end">
                            <div class="col-xl-8">
                              <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>
                            </div>
                          </div>
                          <p>
                            <a href="@Url.Action("Index", "Booking")" class="btn btn-dark mb-2 py-3 px-4">Booking Now</a>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                  <!-- Item 4 -->
                  <div class="item">
                    <div class="work-wrap d-md-flex">
                      <div class="img order-md-last" style="background-image: url(@(fallbackImages[3]));"></div>
                      <div class="text text-left text-lg-right p-4 px-xl-5 d-flex align-items-center">
                        <div class="py-md-5">
                          <h2 class="mb-4">Ladies <br> Collection</h2>
                          <p class="h5">Call: 0123 456 78901</p>
                          <p class="h5 mb-4">Email Address: email@info.com</p>
                          <div class="row justify-content-end">
                            <div class="col-xl-8">
                              <p>Far far away, behind the word mountains, far from the countries Vokalia and Consonantia, there live the blind texts. Separated they live in Bookmarksgrove right at the coast of the Semantics, a large language ocean.</p>
                            </div>
                          </div>
                          <p>
                            <a href="@Url.Action("Index", "Booking")" class="btn btn-dark mb-2 py-3 px-4">Booking Now</a>
                          </p>
                        </div>
                      </div>
                    </div>
                  </div>

              }

            </div>
          </div>
        </div>
      </div>
    </section>

    <script src="js/crousel/popper.js"></script>
    <script src="js/crousel/owl.carousel.min.js"></script>
  <script src="js/crousel/main.js"></script>
  <script>
    $(document).ready(function(){
        $(".featured-carousel").owlCarousel({
            items:1,
            loop:true,
            nav:true,
            dots:true,
            autoplay:true,
            autoplayTimeout:5000,
            animateOut: 'fadeOut',
            animateIn: 'fadeIn'
        });
    });
</script>

  </body>
</html>
