@{
    ViewData["Title"] = "Select Date & Time";
}

<div class="container my-5">
    <h2 class="text-center fw-bold mb-4">Select Your Preferred Date & Time</h2>

    <form asp-action="Submit" method="post">
        <div class="mb-3">
            <label for="selectedTime" id="mmd" class="form-label fw-bold">Choose Date & Time:</label>
            <input type="text" class="form-control" id="selectedTime" name="selectedTime" required />
        </div>
        <button type="submit" class="btn btn-primary w-100 mt-3">Next</button>
    </form>

    @if (!ViewData.ModelState.IsValid)
    {
        <div class="alert alert-danger mt-3">
            @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <div>@error.ErrorMessage</div>
            }
        </div>
    }


</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-timepicker-addon/1.6.3/jquery-ui-timepicker-addon.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ui-timepicker-addon/1.6.3/jquery-ui-timepicker-addon.min.js"></script>

@section Scripts {
    <script>
        $(function () {
            var disabledDates = ["2025-11-20", "2025-11-25", "2025-12-01"];

            $("#selectedTime").datetimepicker({
                dateFormat: "yy-mm-dd",
                timeFormat: "HH:mm",
                stepMinute: 30,   // هر 30 دقیقه یک گزینه
                beforeShowDay: function(date) {
                    var string = $.datepicker.formatDate('yy-mm-dd', date);
                    return [disabledDates.indexOf(string) === -1];
                }
            });
        });
    </script>
}


